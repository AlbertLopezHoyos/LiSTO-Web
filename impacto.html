<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Listo Solidario | Impacto</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="assets/css/reset.css">
  <link rel="stylesheet" href="assets/css/styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <meta name="theme-color" content="#ff6a00">
</head>
<body data-page="impact">
  <header class="main-header">
    <div class="container header-content">
      <a href="index.html" class="logo">
        <img src="assets/img/logoListo.png" alt="Logo Listo Solidario">
        <span>Listo Solidario</span>
      </a>

      <nav class="main-nav" id="mainNav">
        <a href="index.html" class="nav-link">Inicio</a>
        <a href="tienda.html" class="nav-link">Tienda</a>
        <a href="impacto.html" class="nav-link active">Impacto</a>
        <a href="nosotros.html" class="nav-link">Nosotros</a>
        <a href="contacto.html" class="nav-link">Contacto</a>
      </nav>

      <button class="burger" id="burgerBtn" aria-label="Abrir men√∫">
        ‚ò∞
      </button>

      <a href="tienda.html" class="cart-link">
        <span>Carrito</span>
        <span id="cartCount" class="cart-count">0</span>
      </a>
    </div>
  </header>

  <main>
    <!-- Hero impacto -->
    <section class="section impact-hero">
      <div class="container impact-hero-grid">
        <div>
          <h1>Tu compra tiene impacto real üå±</h1>
          <p>
            Cada pedido registrado en la plataforma se convierte en <strong>ventas para el comedor</strong>
            y en <strong>platos solidarios</strong> para familias de Comas. Aqu√≠ puedes ver el impacto
            acumulado en esta demo.
          </p>

          <ul class="impact-bullets">
            <li>‚úî Pedidos solidarios registrados en el navegador.</li>
            <li>‚úî Monto total vendido a trav√©s de la tienda.</li>
            <li>‚úî Donaciones generadas autom√°ticamente o de forma manual.</li>
            <li>‚úî Cantidad aproximada de men√∫s solidarios financiados.</li>
          </ul>
        </div>

        <div class="card impact-hero-card">
          <h2>Resumen en tiempo real</h2>
          <div class="impact-summary-grid">
            <div class="impact-summary-item">
              <span class="impact-label">Pedidos</span>
              <span class="impact-number" id="impactOrders">0</span>
            </div>
            <div class="impact-summary-item">
              <span class="impact-label">Ventas (S/)</span>
              <span class="impact-number" id="impactSales">0.00</span>
            </div>
            <div class="impact-summary-item">
              <span class="impact-label">Donado (S/)</span>
              <span class="impact-number" id="impactDonation">0.00</span>
            </div>
            <div class="impact-summary-item">
              <span class="impact-label">Men√∫s solidarios</span>
              <span class="impact-number" id="impactMeals">0</span>
            </div>
          </div>
          <p class="impact-note">
            *Los datos se guardan en tu navegador como parte de la simulaci√≥n del proyecto.
          </p>
        </div>
      </div>
    </section>

    <!-- Detalle visual del impacto -->
    <section class="section">
      <div class="container impact-grid">
        <article class="card impact-card">
          <h2>¬øC√≥mo se convierte tu compra en ayuda?</h2>
          <ol class="impact-steps">
            <li>Realizas un pedido en la tienda solidaria.</li>
            <li>Eliges c√≥mo donar: 5 %, monto fijo o men√∫s solidarios.</li>
            <li>La plataforma registra el aporte y lo suma al impacto total.</li>
            <li>El comedor utiliza esos recursos para preparar m√°s platos.</li>
          </ol>
        </article>

        <article class="card impact-card">
          <h2>Distribuci√≥n simb√≥lica</h2>
          <p class="muted">
            Esta barra representa, de forma visual, el equilibrio entre ventas y donaciones
            tomando como referencia el historial guardado en tu navegador.
          </p>

          <div class="impact-bar">
            <div class="impact-bar-sales" id="impactBarSales"></div>
            <div class="impact-bar-donations" id="impactBarDonations"></div>
          </div>

          <div class="impact-legend">
            <span><span class="legend-box legend-sales"></span> Ventas</span>
            <span><span class="legend-box legend-donations"></span> Donaciones</span>
          </div>
        </article>

        <article class="card impact-card">
          <h2>Historias que queremos contar</h2>
          <p>
            La meta de Listo Solidario es que cada cifra no se quede solo en un n√∫mero,
            sino que se traduzca en historias: ni√±os que almuerzan todos los d√≠as,
            adultos mayores que no se saltan comidas y familias que sienten el respaldo
            de su propia comunidad.
          </p>
          <p>
            A medida que el proyecto crezca, este panel podr√≠a mostrar testimonios,
            fotos y reportes descargables del impacto real generado.
          </p>
        </article>
      </div>
    </section>
  </main>

  <footer class="main-footer">
    <div class="container footer-grid">
      <p>&copy; 2025 Listo Solidario ‚Äì Comas.</p>
      <p>Gracias por apoyar al Comedor Popular San Salvador.</p>
    </div>
  </footer>

  <script src="assets/js/main.js"></script>
  <script src="assets/js/cart.js"></script>
  <script>
    // Ajustar barra de distribuci√≥n ventas / donaciones
    (function () {
      function updateBars() {
        try {
          const raw = localStorage.getItem('ls_stats');
          const stats = raw ? JSON.parse(raw) : null;
          const sales = stats ? stats.sales || 0 : 0;
          const donation = stats ? stats.donation || 0 : 0;
          const total = sales + donation || 1;

          const salesPct = (sales / total) * 100;
          const donationPct = (donation / total) * 100;

          const barSales = document.getElementById('impactBarSales');
          const barDonations = document.getElementById('impactBarDonations');

          if (barSales && barDonations) {
            barSales.style.width = salesPct + '%';
            barDonations.style.width = donationPct + '%';
          }
        } catch (e) {
          console.error('Error leyendo stats para la barra de impacto', e);
        }
      }

      document.addEventListener('DOMContentLoaded', updateBars);
      window.addEventListener('storage', (e) => {
        if (e.key === 'ls_stats') updateBars();
      });
    })();
  </script>
</body>
</html>
